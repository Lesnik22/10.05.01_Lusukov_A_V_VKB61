# Инструкция по установке и запуску

## Быстрый старт

### 1. Установка зависимостей
```bash
pip install -r requirements.txt
```

### 2. Запуск системы
```bash
python run.py
```

### 3. Открытие в браузере
Перейдите по адресу: http://localhost:5000

### 4. Вход в систему
- **Логин**: `admin`
- **Пароль**: `admin123`

## Подробная установка

### Требования
- Python 3.8+
- pip
- 100MB свободного места

### Шаги установки

1. **Создайте виртуальное окружение:**
   ```bash
   python -m venv venv
   
   # Windows
   venv\Scripts\activate
   
   # Linux/Mac
   source venv/bin/activate
   ```

2. **Установите зависимости:**
   ```bash
   pip install -r requirements.txt
   ```

3. **Настройте переменные окружения (опционально):**
   ```bash
   # Создайте файл .env
   echo "SECRET_KEY=your-secret-key-here" > .env
   echo "DATABASE_URL=sqlite:///secure_file_system.db" >> .env
   ```

4. **Запустите приложение:**
   ```bash
   python run.py
   ```

## Первоначальная настройка

### 1. Вход в систему
- Откройте http://localhost:5000
- Войдите как администратор: `admin` / `admin123`

### 2. Настройка MFA
- Перейдите в профиль пользователя
- Нажмите "Настройка MFA"
- Отсканируйте QR-код в приложении аутентификатора
- Введите код для подтверждения

### 3. Создание пользователей
- Перейдите в админ панель
- Создайте новых пользователей
- Назначьте им роли

### 4. Загрузка файлов
- Загрузите тестовые файлы
- Настройте уровни доступа
- Предоставьте доступ другим пользователям

## Тестирование системы

### Демонстрационные данные
```bash
python demo.py
```

### Тестовые аккаунты
- **admin** / **admin123** (администратор)
- **alice** / **alice123** (менеджер)
- **bob** / **bob123** (пользователь)

## Устранение неполадок

### Ошибка "Module not found"
```bash
pip install -r requirements.txt
```

### Ошибка базы данных
```bash
# Удалите файл базы данных
rm secure_file_system.db
python run.py
```

### Ошибка порта занят
```bash
# Измените порт
export PORT=5001
python run.py
```

### Проблемы с правами доступа
```bash
# Установите права на папку uploads
chmod 755 uploads/
```

## Продакшен развертывание

### 1. Настройка переменных окружения
```bash
export FLASK_ENV=production
export SECRET_KEY=your-production-secret-key
export DATABASE_URL=postgresql://user:password@localhost/db
```

### 2. Использование WSGI сервера
```bash
pip install gunicorn
gunicorn -w 4 -b 0.0.0.0:8000 app:app
```

### 3. Настройка nginx
```nginx
server {
    listen 80;
    server_name your-domain.com;
    
    location / {
        proxy_pass http://127.0.0.1:8000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

## Безопасность

### Обязательные настройки для продакшена:
1. Измените SECRET_KEY
2. Настройте HTTPS
3. Используйте PostgreSQL
4. Настройте брандмауэр
5. Регулярно обновляйте зависимости

### Рекомендации:
- Используйте сильные пароли
- Включите MFA для всех пользователей
- Регулярно проверяйте журнал аудита
- Создавайте резервные копии базы данных

## Поддержка

При возникновении проблем:
1. Проверьте логи приложения
2. Убедитесь, что все зависимости установлены
3. Проверьте права доступа к файлам
4. Обратитесь к документации

---

**Важно**: В продакшене обязательно измените SECRET_KEY и настройте HTTPS!




